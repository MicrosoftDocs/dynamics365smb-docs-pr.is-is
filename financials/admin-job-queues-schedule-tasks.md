---
title: "Tímasetja verk til að keyrast sjálfvirkt | Microsoft Docs"
description: "Tímasettum verkum er stjórnað af verkröðinni. Þessi verk keyra skýrslur og kóðaeiningar. Stilla má verk svo þau keyri einu sinni eða endurtekið."
author: edupont04
ms.service: dynamics365-financials
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 09/01/2017
ms.author: edupont
ms.translationtype: HT
ms.sourcegitcommit: bec0619be0a65e3625759e13d2866ac615d7513c
ms.openlocfilehash: b679c2762c67c6d78bcc6be293e6aabde4a58848
ms.contentlocale: is-is
ms.lasthandoff: 01/30/2018

---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="66fea-105">Nota verkraðir til að tímaraða verkhlutum</span><span class="sxs-lookup"><span data-stu-id="66fea-105">Use Job Queues to Schedule Tasks</span></span>
<span data-ttu-id="66fea-106">Verkraðir í [!INCLUDE[d365fin](includes/d365fin_md.md)] gera notendum kleift að tímasetja og keyra tilteknar skýrslur og kótasöfn.</span><span class="sxs-lookup"><span data-stu-id="66fea-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="66fea-107">Stilla má verk svo þau keyri einu sinni eða endurtekið.</span><span class="sxs-lookup"><span data-stu-id="66fea-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="66fea-108">Til dæmis kann notandi að vilja keyra skýrslu yfir **Sölutölur sölumanns** vikulega, að rekja sölu sölumanns í hverri viku eða keyra kóðaeininguna **Úrvinnsla þjónustupóstraðar** daglega, til að tryggja að tölvupóstur sem bíður á leið til viðskiptamanna, varðandi þjónustupantanir þeirra, sé sendur út tímanlega.</span><span class="sxs-lookup"><span data-stu-id="66fea-108">For example, you might want to run the **Salesperson - Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Process Service E-mail Queue** codeunit daily, to make sure pending email messages to customers regarding their service orders are sent out in a timely manner.</span></span>  

## <a name="add-jobs-to-the-job-queue"></a><span data-ttu-id="66fea-109">Bæta við verkum í verkröð.</span><span class="sxs-lookup"><span data-stu-id="66fea-109">Add Jobs to the Job Queue</span></span>
<span data-ttu-id="66fea-110">Glugginn **Verkraðarfærslur** birtir öll núverandi verk.</span><span class="sxs-lookup"><span data-stu-id="66fea-110">The **Job Queue Entries** window lists all existing jobs.</span></span> <span data-ttu-id="66fea-111">Ef bætt er inn nýrri verkraðarfærslu sem á að tímasetja, er nauðsynlegt að tiltaka upplýsingar um tegund hlutarins sem þú vilt keyra, eins og t.d. skýrsla eða kóðasafn, og heiti og hlutkenni hlutarins sem keyra á.</span><span class="sxs-lookup"><span data-stu-id="66fea-111">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="66fea-112">Einnig er hægt að bæta færibreytum við til að tilgreina virkni verkraðarfærslu.</span><span class="sxs-lookup"><span data-stu-id="66fea-112">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="66fea-113">Til dæmis er hægt að bæta við færibreytu til að sent einungis bókaðar sölupantanir.</span><span class="sxs-lookup"><span data-stu-id="66fea-113">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="66fea-114">Notandi verður að hafa heimild til að keyra skýrsluna eða kótasafnið; annars kemur upp villa þegar verkröðin er keyrð.</span><span class="sxs-lookup"><span data-stu-id="66fea-114">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="66fea-115">Einnig er hægt að velja afmörkun sem gildir í reitnum **Afmörkun flokks verkraðar**.</span><span class="sxs-lookup"><span data-stu-id="66fea-115">Optionally, you can set a filter in the **Job Queue Category Filter** field.</span></span> <span data-ttu-id="66fea-116">Flokka verkraðar má nota til að flokka verk sem eru á listanum.</span><span class="sxs-lookup"><span data-stu-id="66fea-116">Job queue categories can be used to group jobs in the list.</span></span>

[!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="66fea-117"> keyrir verkin sjálfvirkt samkvæmt tilteknum tímasetningum fyrir hverja verkraðarfærslu.</span><span class="sxs-lookup"><span data-stu-id="66fea-117">automatically runs the jobs according to the specified schedules for each job queue entry.</span></span> <span data-ttu-id="66fea-118">Þú getur einnig byrjað, stoppað og slegið verkraðarfærslu á frest handvirkt.</span><span class="sxs-lookup"><span data-stu-id="66fea-118">You can also start, stop, and put a job queue entry on hold manually.</span></span>

### <a name="log-files"></a><span data-ttu-id="66fea-119">Kladdaskrár</span><span class="sxs-lookup"><span data-stu-id="66fea-119">Log Files</span></span>
<span data-ttu-id="66fea-120">Villur eru taldar upp í glugganum **Skráarfærslur verkraðar** sem þú getur farið inn í gegnum borðann.</span><span class="sxs-lookup"><span data-stu-id="66fea-120">Errors are listed in the **Job Queue Log Entries** window that you can access from the ribbon.</span></span> <span data-ttu-id="66fea-121">Einnig er hægt að leita úrræða vegna verkraðarvillna.</span><span class="sxs-lookup"><span data-stu-id="66fea-121">You can also troubleshoot job queue errors.</span></span> <span data-ttu-id="66fea-122">Gögn sem verða til þegar verkröð er keyrð eru geymd í gagnagrunninum.</span><span class="sxs-lookup"><span data-stu-id="66fea-122">Data that is generated when a job queue is run is stored in the database.</span></span>  

### <a name="background-posting-with-job-queues"></a><span data-ttu-id="66fea-123">Bókun í bakgrunni með verkraðir</span><span class="sxs-lookup"><span data-stu-id="66fea-123">Background Posting with Job Queues</span></span>
<span data-ttu-id="66fea-124">Verkraðir eru áhrifaríkt verkfæri til að raða notkun viðskiptaferla í bakgrunni.</span><span class="sxs-lookup"><span data-stu-id="66fea-124">Job queues are an effective tool to schedule the running of business processes in the background.</span></span> <span data-ttu-id="66fea-125">Til dæmis gæti komið upp tilvik þar sem margir notendur reyna að bóka sölupantanir samtímis, en einungis er hægt að afgreiða eina pöntun í einu.</span><span class="sxs-lookup"><span data-stu-id="66fea-125">For example, there may be an instance in which multiple users are trying to post sales orders at the same time, but only one order can be processed at a time.</span></span> <span data-ttu-id="66fea-126">Með því að setja upp bakgrunnsbókunarferli er hægt að setja bókanirnar í biðröð fyrir vinnslu í bakgrunni.</span><span class="sxs-lookup"><span data-stu-id="66fea-126">By setting up a background posting routine, you can place the postings in a queue for processing in the background.</span></span>  

 <span data-ttu-id="66fea-127">Einnig er hægt að á að áætla bókanir fyrir tíma hentugum fyrir fyrirtækið.</span><span class="sxs-lookup"><span data-stu-id="66fea-127">Alternatively, you may want to schedule postings for hours when it is convenient for your organization.</span></span> <span data-ttu-id="66fea-128">Til dæmis getur það verið við hæfi í fyrirtæki notanda að keyra tilteknar vinnslur þegar flestum gagnafærslum fyrir daginn er lokið.</span><span class="sxs-lookup"><span data-stu-id="66fea-128">For example, it may make sense in your business to run certain routines when most of the data entry for the day has concluded.</span></span> <span data-ttu-id="66fea-129">Þú getur náð þessu fram með því að láta verkröðina keyra mismunandi bókunarskrár í runu, eins og t.d. skrárnar **Bókunarsölupantanir í runu**, **Bókunarsölureikningar í runu**, og **Bókunarsölukreditreikningar í runu**.</span><span class="sxs-lookup"><span data-stu-id="66fea-129">You can achieve this by setting the job queue up to run various batch post reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, and **Batch Post Sales Credit Memos** reports.</span></span>  

 [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="66fea-130"> styður bakgrunnsbókun fyrir eftirfarandi tegundir skjala:</span><span class="sxs-lookup"><span data-stu-id="66fea-130">supports background posting for the following document types:</span></span>  

-   <span data-ttu-id="66fea-131">Sala: sölupöntun, vöruskilapöntun, kreditreikningur, reikningur</span><span class="sxs-lookup"><span data-stu-id="66fea-131">Sales: sales order, return order, credit memo, invoice</span></span>  

-   <span data-ttu-id="66fea-132">Innkaup: innkaupapöntun, vöruskilapöntun, kreditreikningur, reikningur</span><span class="sxs-lookup"><span data-stu-id="66fea-132">Purchases: purchase order, return order, credit memo, invoice</span></span>  

 <span data-ttu-id="66fea-133">Ef ekki er hægt að bóka sölupöntunina breytist staðan í **Villa** og þá er sölupöntuninni bætt við lista yfir sölupantanir sem notandinn mun meðhöndla.</span><span class="sxs-lookup"><span data-stu-id="66fea-133">If the job queue cannot post the sales order, the status is changed to **Error**, and the sales order is added to the list of sales orders that the user will have to handle.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="66fea-134">Þegar fylgiskjal hefur verið tímasett til bókunar og bókunarferlið hefst, mun það renna út sjálfkrafa eftir tvo klukkutíma ef bókunarferlið svarar ekki einhverra hluta vegna.</span><span class="sxs-lookup"><span data-stu-id="66fea-134">When you schedule a document for posting and the posting process begins, the posting routine is automatically configured to time out within two hours if the posting routine stops responding for any reason.</span></span>  

<span data-ttu-id="66fea-135">Þú setur upp þessa notkun á verkröðinni í glugganum **Uppsetning Sala & Útistandandi** glugganum eða **Innkaup & Viðskiptaskuldir**, eftir því sem við á.</span><span class="sxs-lookup"><span data-stu-id="66fea-135">You set up this use of the job queue in the **Sales & Receivables Setup** window or the **Purchases & Payables** window, respectively.</span></span> <span data-ttu-id="66fea-136">Á flýtiflipanum **Bókun í bakgrunni** skal velja **Bóka skjöl gegnum verkröðgátreitinn** og síðan setja inn viðeigandi upplýsingar.</span><span class="sxs-lookup"><span data-stu-id="66fea-136">On the **Background Posting** FastTab, you choose the **Post Documents via Job Queue** check box and then fill in the relevant information.</span></span> <span data-ttu-id="66fea-137">Hér geturðu einnig notað **Flokkskóði verkraðar** reitinn til að keyra allar verkraðarfærslur með þeim kóða.</span><span class="sxs-lookup"><span data-stu-id="66fea-137">Here you can also use the **Job Queue Category Code** field to run all job queue entries with that code.</span></span> <span data-ttu-id="66fea-138">Þú getur til dæmis notað **SöluBókun** flokk sem afmarkast á allar sölupantanir sem passa við hverja þá verkröð sem hefur sama flokkakóða.</span><span class="sxs-lookup"><span data-stu-id="66fea-138">For example, you can use  a **SalesPost** category that filters to all sales orders that match any job queue that has the same category code.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="66fea-139">Ef þú setur upp verk sem mun bóka og prenta skjöl, og prentarinn sýnir svarglugga, svo sem beiðni um auðkennisupplýsingar eða viðvörun um að blek sé að klárast, bókast fylgiskjalið en prentast ekki út.</span><span class="sxs-lookup"><span data-stu-id="66fea-139">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="66fea-140">Samsvarandi verkraðarfærsla rennur á endanum út á tíma og reiturinn **Staða** stillist á **Villa**.</span><span class="sxs-lookup"><span data-stu-id="66fea-140">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span></span> <span data-ttu-id="66fea-141">Ekki er mælt með notkun prentarauppsetningar sem krefst samskipta við svarglugga prentara samhliða bakgrunnsbókunar.</span><span class="sxs-lookup"><span data-stu-id="66fea-141">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>  

## <a name="use-the-my-job-queue-part"></a><span data-ttu-id="66fea-142">Nota Mín Verkröð hlutann</span><span class="sxs-lookup"><span data-stu-id="66fea-142">Use the My Job Queue Part</span></span>
<span data-ttu-id="66fea-143">Hlutinn **Mín verkröð** sýnir verkraðarfærslurnar sem notandi hefur hafið, en er ekki lokið enn.</span><span class="sxs-lookup"><span data-stu-id="66fea-143">The **My Job Queue** part shows the job queues entries that a user has started, but which are not yet finished.</span></span> <span data-ttu-id="66fea-144">Að sjálfgefnu er hlutinn ekki sjáanlegur, þannig að þú veður að bæta honum inn í Hlutverkamiðstöðina þína.</span><span class="sxs-lookup"><span data-stu-id="66fea-144">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="66fea-145">Frekari upplýsingar eru í [Breyta Mitt hlutverk](change-role.md).</span><span class="sxs-lookup"><span data-stu-id="66fea-145">For more information, see [Change Role Centers](change-role.md).</span></span>  

<span data-ttu-id="66fea-146">Í þessum hluta er hægt að sjá fylgiskjölin sem verið er að vinna úr eða þau sem eru í bið fyrir það sem auðkennið tilgreinir í reitnum **Úthlutað notandakenni**.</span><span class="sxs-lookup"><span data-stu-id="66fea-146">In this part, you can see those documents that are being processed or that are queued for which your ID is specified in the **Assigned User ID** field.</span></span> <span data-ttu-id="66fea-147">Hlutinn hjálpar til við að halda utan um allar verkraðarfærslur, þar á meðal þær sem tengjast bakgrunnsbókun.</span><span class="sxs-lookup"><span data-stu-id="66fea-147">The part helps you keep track of all job queue entries, including those related to background posting.</span></span> <span data-ttu-id="66fea-148">Hlutinn gefur til kynna á svipstundu hvort um villu hafi verið að ræða við bókun skjals eða hvort það hafi verið villur í verkraðarfærslu.</span><span class="sxs-lookup"><span data-stu-id="66fea-148">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="66fea-149">Hlutinn býður einnig upp á að hætta við bókun skjals ef hún er ekki í gangi.</span><span class="sxs-lookup"><span data-stu-id="66fea-149">The part also lets you cancel a document posting if it is not running.</span></span>  

## <a name="security"></a><span data-ttu-id="66fea-150">Öryggi</span><span class="sxs-lookup"><span data-stu-id="66fea-150">Security</span></span>  
<span data-ttu-id="66fea-151">Verkraðarfærslur keyra á grundvelli heimilda.</span><span class="sxs-lookup"><span data-stu-id="66fea-151">Job queue entries run based on permissions.</span></span> <span data-ttu-id="66fea-152">Þessar heimildir verða að leyfa framkvæmd skýrslunnar eða kóðaeiningarinnar.</span><span class="sxs-lookup"><span data-stu-id="66fea-152">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="66fea-153">Þegar verkröð er virkjuð handvirkt er hún keyrð með notendaheimildum notandans.</span><span class="sxs-lookup"><span data-stu-id="66fea-153">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="66fea-154">Þegar verkröð er virkjuð sem tímasett verkefni er hún keyrð með notendaheimildum notandans.</span><span class="sxs-lookup"><span data-stu-id="66fea-154">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="66fea-155">Þegar verk er keyrt er það keyrt með notendaheimildum verkraðarinnar sem virkjar það.</span><span class="sxs-lookup"><span data-stu-id="66fea-155">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="66fea-156">Hins vegar verður notandinn sem stofnaði verkraðarfærsluna einnig að hafa heimildir.</span><span class="sxs-lookup"><span data-stu-id="66fea-156">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="66fea-157">Þegar verk er „Keyra í notandalotu“ (til dæmis í Bakgrunnsbókun) er það keyrt með notendaheimildum notandans sem stofnaði verkið.</span><span class="sxs-lookup"><span data-stu-id="66fea-157">When a job is “run in user session” (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="66fea-158">Ef notað er SUPER-heimildasafnið sem fylgir með [!INCLUDE[d365fin](includes/d365fin_md.md)] hafa bæði þú og þínir notendur heimild til að keyra alla hluti.</span><span class="sxs-lookup"><span data-stu-id="66fea-158">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="66fea-159">Í þessu tilfelli er aðgangur hvers notanda aðeins takmarkaður af heimildum fyrir gögn.</span><span class="sxs-lookup"><span data-stu-id="66fea-159">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="66fea-160">Að nota verkraðir á skilvirkan hátt</span><span class="sxs-lookup"><span data-stu-id="66fea-160">Using Job Queues Effectively</span></span>  
<span data-ttu-id="66fea-161">Verkraðarfærsluskrá er með marga reiti sem hafa þann tilgang að setja færibreytur í codeunit sem tilgreind hefur verið til keyrslu með verkröð.</span><span class="sxs-lookup"><span data-stu-id="66fea-161">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="66fea-162">Þetta þýðir einnig að kóðaeiningar sem á að keyra með verkröðinni verður að tilgreina með skránni Verkraðarfærsla sem færibreytur í **OnRun** rofanum.</span><span class="sxs-lookup"><span data-stu-id="66fea-162">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="66fea-163">Þetta stuðlar að auknu öryggi, þar sem þetta kemur í veg fyrir að notendur keyri tilviljanakenndar kóðaeiningar gegnum verkröðina.</span><span class="sxs-lookup"><span data-stu-id="66fea-163">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="66fea-164">Þurfi notandi að senda færibreytur í skýrslu er eina leiðin til að gera það að vefja skýrslukeyrslunni í kótaeiningu sem þáttar inntaksbreyturnar og skráir þær í skýrsluna fyrir keyrslu hennar.</span><span class="sxs-lookup"><span data-stu-id="66fea-164">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="see-also"></a><span data-ttu-id="66fea-165">Sjá einnig</span><span class="sxs-lookup"><span data-stu-id="66fea-165">See Also</span></span>  
[<span data-ttu-id="66fea-166">Uppsetning og stjórnun í Finance and Operations, Business Edition</span><span class="sxs-lookup"><span data-stu-id="66fea-166">Setup and Administration in Finance and Operations, Business edition</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="66fea-167">Uppsetning Finance and Operations, Business Edition</span><span class="sxs-lookup"><span data-stu-id="66fea-167">Setting Up Finance and Operations, Business edition</span></span>](setup.md)  

